% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bootstrap.R
\name{new_dataset_boot}
\alias{new_dataset_boot}
\title{Create Block Bootstrapped Dataset}
\usage{
new_dataset_boot(mydata)
}
\arguments{
\item{mydata}{A data.frame containing the original data with columns:
\describe{
\item{id}{Subject identifier (factor or character)}
\item{y}{Response variable}
\item{time}{Longitudinal time stamps}
\item{Xobs}{Matrix of functional covariate observations}
\item{sMat}{Matrix of functional domain coordinates}
\item{tMat}{Matrix of longitudinal time coordinates}
}}
}
\value{
A data.frame with the same structure as the input, containing
resampled data. Subject IDs are modified to be unique (e.g., "5.1", "5.2"
if subject 5 is sampled twice).
}
\description{
Internal function to create a block bootstrapped dataset by resampling
complete subjects with replacement. This preserves the within-subject
dependence structure inherent in longitudinal data.
}
\details{
The block bootstrap procedure:
\enumerate{
\item Sample N subject IDs with replacement from \code{unique(mydata$id)}
\item For each sampled ID, extract all observations for that subject
\item If a subject is sampled multiple times, create copies with modified IDs
\item Stack all extracted observations into the bootstrap dataset
}

This approach maintains the correlation structure within subjects because
complete subject trajectories are resampled together. It is equivalent to
the "cross-sectional resampling" described in Galvao and Montes-Rojas (2015).
}
\references{
Galvao, A., & Montes-Rojas, G. (2015). On bootstrap inference for quantile
regression panel data: A Monte Carlo study. Econometrics, 3(3), 654-666.
}
\keyword{internal}
